(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))c(i);new MutationObserver(i=>{for(const t of i)if(t.type==="childList")for(const g of t.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function n(i){const t={};return i.integrity&&(t.integrity=i.integrity),i.referrerPolicy&&(t.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?t.credentials="include":i.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(i){if(i.ep)return;i.ep=!0;const t=n(i);fetch(i.href,t)}})();const s=document.querySelector("#app"),r=document.createElement("canvas"),o=r.getContext("2d"),h=3,e={hue:0,stepX:h,stepY:h,directionX:"left",directionY:"down",height:s.clientHeight,width:s.clientWidth,image:new Image,imageX:0,imageY:0};e.height=s.clientHeight;e.width=s.clientWidth;r.height=e.height;r.width=e.width;s.appendChild(r);function l(){o.globalCompositeOperation="source-over",o.fillRect(0,0,e.width,e.height),o.globalCompositeOperation="source-over",o.fillStyle=`hsla(${e.hue}, 50%, 45%, 1)`,o.fillRect(0,0,e.width,e.height),o.globalCompositeOperation="destination-in",o.drawImage(e.image,e.imageX,e.imageY,e.image.width,e.image.height),u(),f(),requestAnimationFrame(()=>l())}function u(){e.directionX=="left"?e.imageX>=e.width-e.image.width?(e.directionX="right",e.imageX=e.imageX-e.stepX):e.imageX=e.imageX+e.stepX:e.imageX<=0?(e.directionX="left",e.imageX=e.imageX+e.stepX):e.imageX=e.imageX-e.stepX,e.directionY=="down"?e.imageY>=e.height-e.image.height?(e.directionY="up",e.imageY=e.imageY-e.stepY):e.imageY=e.imageY+e.stepY:e.imageY<=0?(e.directionY="down",e.imageY=e.imageY+e.stepY):e.imageY=e.imageY-e.stepY}function f(){e.hue=(e.hue+.5)%360}function m(){e.width=r.width=window.innerWidth,e.height=r.height=window.innerHeight}async function p(){new Promise((d,a)=>{const n=new Image;n.src="./dvd.png",n.onload=()=>{e.imageX=Math.floor(Math.random()*(e.width-e.image.width)),e.imageY=Math.floor(Math.random()*(e.height-e.image.height)),d()},n.onerror=c=>{a(c)},e.image=n})}p().then(()=>{window.addEventListener("resize",()=>m()),m(),l()}).catch(console.log);
